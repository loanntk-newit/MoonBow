!function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,n){this.DOM={},this.DOM.el=t,this.options=e({},this.options),e(this.options,n),this._init()}n.prototype.options={movement:{imgWrapper:{translation:{x:0,y:0,z:0},rotation:{x:-5,y:5,z:0},reverseAnimation:{duration:1200,easing:"easeOutElastic",elasticity:600}},lines:{translation:{x:10,y:10,z:[0,10]},reverseAnimation:{duration:1e3,easing:"easeOutExpo",elasticity:600}},caption:{translation:{x:20,y:20,z:0},rotation:{x:0,y:0,z:0},reverseAnimation:{duration:1500,easing:"easeOutElastic",elasticity:600}},shine:{translation:{x:50,y:50,z:0},reverseAnimation:{duration:1200,easing:"easeOutElastic",elasticity:600}}}},n.prototype._init=function(){this.DOM.animatable={},this.DOM.animatable.imgWrapper=this.DOM.el.querySelector(".prl__figure"),this.DOM.animatable.lines=this.DOM.el.querySelector(".prl__deco--lines"),this.DOM.animatable.caption=this.DOM.el.querySelector(".prl__caption"),this.DOM.animatable.overlay=this.DOM.el.querySelector(".prl__deco--overlay"),this.DOM.animatable.shine=this.DOM.el.querySelector(".prl__deco--shine > div"),this._initEvents()},n.prototype._initEvents=function(){var t=this;this.mouseenterFn=function(){for(var e in t.DOM.animatable)anime.remove(t.DOM.animatable[e])},this.mousemoveFn=function(e){requestAnimationFrame(function(){t._layout(e)})},this.mouseleaveFn=function(e){requestAnimationFrame(function(){for(var e in t.DOM.animatable)null!=t.options.movement[e]&&anime({targets:t.DOM.animatable[e],duration:null!=t.options.movement[e].reverseAnimation?t.options.movement[e].reverseAnimation.duration||0:1,easing:null!=t.options.movement[e].reverseAnimation&&t.options.movement[e].reverseAnimation.easing||"linear",elasticity:null!=t.options.movement[e].reverseAnimation&&t.options.movement[e].reverseAnimation.elasticity||null,scaleX:1,scaleY:1,scaleZ:1,translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0})})},this.DOM.el.addEventListener("mousemove",this.mousemoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn),this.DOM.el.addEventListener("mouseenter",this.mouseenterFn)},n.prototype._layout=function(e){var n=function(e){var n=0,i=0;e||(e=t.event);return e.pageX||e.pageY?(n=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:n,y:i}}(e),i=document.body.scrollLeft+document.documentElement.scrollLeft,o=document.body.scrollTop+document.documentElement.scrollTop,a=this.DOM.el.getBoundingClientRect(),s=n.x-a.left-i,r=n.y-a.top-o;for(var l in this.DOM.animatable)if(null!=this.DOM.animatable[l]&&null!=this.options.movement[l]){var m=null!=this.options.movement[l]&&this.options.movement[l].translation||{x:0,y:0,z:0},u=null!=this.options.movement[l]&&this.options.movement[l].rotation||{x:0,y:0,z:0},c=function(t){for(var e in t)null==t[e]?t[e]=[0,0]:"number"==typeof t[e]&&(t[e]=[-1*t[e],t[e]])};c(m),c(u);var h={translation:{x:(m.x[1]-m.x[0])/a.width*s+m.x[0],y:(m.y[1]-m.y[0])/a.height*r+m.y[0],z:(m.z[1]-m.z[0])/a.height*r+m.z[0]},rotation:{x:(u.x[1]-u.x[0])/a.height*r+u.x[0],y:(u.y[1]-u.y[0])/a.width*s+u.y[0],z:(u.z[1]-u.z[0])/a.width*s+u.z[0]}};this.DOM.animatable[l].style.WebkitTransform=this.DOM.animatable[l].style.transform="translateX("+h.translation.x+"px) translateY("+h.translation.y+"px) translateZ("+h.translation.z+"px) rotateX("+h.rotation.x+"deg) rotateY("+h.rotation.y+"deg) rotateZ("+h.rotation.z+"deg)"}},t.TiltFx=n}(window);